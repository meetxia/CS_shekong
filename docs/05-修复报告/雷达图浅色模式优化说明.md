# 雷达图浅色模式优化说明

## 问题描述
在浅色模式下，雷达图的维度标签和线条颜色过浅，导致文字和图形看不清楚。

## 优化方案

### 1. 颜色对比度增强

#### 深色模式 vs 浅色模式配色对比：

| 元素 | 深色模式 | 浅色模式 |
|------|---------|---------|
| **网格线** | `rgba(255,255,255,0.18)` | `rgba(0,0,0,0.35)` ⬆️ |
| **雷达图线条** | `rgba(255,180,150,0.9)` | `rgba(220,38,38,0.95)` 🔴 |
| **雷达图填充** | `rgba(255,180,150,0.25)` | `rgba(220,38,38,0.15)` 🔴 |
| **标签文字** | `#F5E6D3` (浅色) | `#000000` (纯黑) ⚫ |
| **分割线宽度** | `1.0px` | `1.5px` ⬆️ |
| **轴线宽度** | `1px` | `2px` ⬆️ |
| **数据点大小** | `7px` | `8px` ⬆️ |
| **线条宽度** | `3.5px` | `4px` ⬆️ |

### 2. 文字可读性优化

#### 浅色模式下的文字处理：
- **字号**：从 `13px` 提升到 `14px`
- **字重**：从 `500` 提升到 `600`（更粗）
- **文字描边**：添加 `2px` 白色描边，增强对比
- **文字阴影**：白色阴影 `rgba(255,255,255,0.9)`，模糊度 `3px`

#### 深色模式下的文字处理：
- 保持原有的黑色阴影效果
- 无文字描边

### 3. 阴影和高光增强

#### 浅色模式：
- 数据点阴影：`rgba(0,0,0,0.4)` 黑色阴影，模糊度 `10px`
- 线条阴影：`rgba(0,0,0,0.3)` 黑色阴影，模糊度 `10px`
- hover 时阴影模糊度提升到 `15px`

#### 深色模式：
- 保持原有的彩色光晕效果

### 4. 背景区域优化

浅色模式的分割区域使用淡红色：
```css
['rgba(220,38,38,0.05)', 'rgba(220,38,38,0.08)']
```

深色模式保持原有的淡粉色。

## 技术实现

### 核心代码位置
`src/views/ReportPage.vue` - `renderRadarChart()` 函数

### 关键变量
```javascript
// 根据深浅模式动态切换颜色
const isDark = document.body.className.includes('-dark')

// 网格线颜色
const gridColor = isDark ? 'rgba(255,255,255,0.18)' : 'rgba(0,0,0,0.35)'

// 雷达图颜色
const radarLineColor = isDark ? 'rgba(255,180,150,0.9)' : 'rgba(220,38,38,0.95)'
const radarAreaColor = isDark ? 'rgba(255,180,150,0.25)' : 'rgba(220,38,38,0.15)'

// 标签文字颜色
const labelColor = isDark ? '#F5E6D3' : '#000000'
```

### 自动刷新机制
通过 `MutationObserver` 监听 `body.className` 变化，当用户切换主题时自动重新渲染雷达图：

```javascript
themeObserver = new MutationObserver(() => {
  nextTick(() => {
    renderRadarChart()
  })
})
themeObserver.observe(document.body, { 
  attributes: true, 
  attributeFilter: ['class'] 
})
```

## 效果对比

### 优化前：
- ❌ 浅色模式下文字几乎看不见（浅灰色）
- ❌ 雷达图线条过淡（浅橙色）
- ❌ 网格线不清晰

### 优化后：
- ✅ 浅色模式下文字清晰可见（纯黑+白色描边）
- ✅ 雷达图线条醒目（深红色）
- ✅ 网格线对比度高
- ✅ 深色模式保持原有美观效果

## 测试建议

1. 清除浏览器缓存和 localStorage
2. 刷新页面，应默认显示深色模式
3. 切换到浅色模式，检查雷达图是否清晰
4. 切换回深色模式，检查雷达图是否正常
5. 多次切换测试，确保颜色正确更新

## 相关文件

- `src/views/ReportPage.vue` - 雷达图渲染逻辑
- `src/composables/useColorScheme.js` - 主题管理
- `index.html` - 主题初始化脚本
- `src/App.vue` - 主题应用逻辑

---

**优化日期**: 2025-11-05  
**优化内容**: 雷达图浅色模式显示优化 + 默认深色主题设置

